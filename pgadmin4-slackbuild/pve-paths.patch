--- pgadmin4-4.22/runtime/Server.cpp	2020-05-25 06:06:46.000000000 -0700
+++ Server.cpp	2020-06-16 15:55:59.674262863 -0700
@@ -131,12 +131,22 @@
     add_to_path(pythonHome, venvPath.canonicalFilePath());
 #else
     // Build (and canonicalise) the virtual environment path
+    /*** start patch W.H.
     QFileInfo venvBinPath(app_dir + "/../venv/bin");
     QFileInfo venvLibPath(app_dir + "/../venv/lib/python");
     QFileInfo venvDynLibPath(app_dir + "/../venv/lib/python/lib-dynload");
     QFileInfo venvSitePackagesPath(app_dir + "/../venv/lib/python/site-packages");
     QFileInfo venvPath(app_dir + "/../venv");
-
+    ***** end patch -- replaced below -- W.H *****/
+    
+    // start replacement. Use our python virtual environment -- W.H.
+    QFileInfo venvBinPath(app_dir + "/usr/local/pve/pgAdmin4-pve/bin");
+    QFileInfo venvLibPath(app_dir + "/usr/local/pve/pgAdmin4-pve/lib64/python3.8");
+    QFileInfo venvDynLibPath(app_dir + "/usr/local/pve/pgAdmin4-pve/lib64/python3.8/lib-dynload");
+    QFileInfo venvSitePackagesPath(app_dir + "/usr/local/pve/pgAdmin4-pve/lib64/python3.8/site-packages");
+    QFileInfo venvPath(app_dir + "/usr/local/pve/pgAdmin4-pve");
+    // end replacement
+    
     // Prepend the bin directory to the path
     add_to_path(path_env, venvBinPath.canonicalFilePath(), true);
     // Append the path, if it's not already there